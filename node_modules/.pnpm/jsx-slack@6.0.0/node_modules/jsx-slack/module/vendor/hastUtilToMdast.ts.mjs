import{_ as Ct,a as Et}from"./chunk-DFKQJ226-093d6be0.mjs";var Ot=Et({"node_modules/extend/index.js"(t,n){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=function(p){return typeof Array.isArray=="function"?Array.isArray(p):r.call(p)==="[object Array]"},l=function(p){if(!p||r.call(p)!=="[object Object]")return!1;var u=e.call(p,"constructor"),y=p.constructor&&p.constructor.prototype&&e.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!u&&!y)return!1;var g;for(g in p);return typeof g=="undefined"||e.call(p,g)},c=function(p,u){i&&u.name==="__proto__"?i(p,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):p[u.name]=u.newValue},s=function(p,u){if(u==="__proto__")if(e.call(p,u)){if(o)return o(p,u).value}else return;return p[u]};n.exports=function p(){var u,y,g,d,b,x,v=arguments[0],j=1,Bt=arguments.length,M=!1;for(typeof v=="boolean"&&(M=v,v=arguments[1]||{},j=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});j<Bt;++j)if(u=arguments[j],u!=null)for(y in u)g=s(v,y),d=s(u,y),v!==d&&(M&&d&&(l(d)||(b=a(d)))?(b?(b=!1,x=g&&a(g)?g:[]):x=g&&l(g)?g:{},c(v,{name:y,newValue:p(M,x,d)})):typeof d!="undefined"&&c(v,{name:y,newValue:d}));return v}}}),T=function(t,n,e,r,i){const o=w(n);if(e!=null&&(typeof e!="number"||e<0||e===Number.POSITIVE_INFINITY))throw new Error("Expected positive finite index for child node");if(r!=null&&(!r.type||!r.children))throw new Error("Expected parent node");if(!t||!t.type||typeof t.type!="string")return!1;if(r==null!=(e==null))throw new Error("Expected both parent and index");return o.call(i,t,e,r)},w=function(t){if(t==null)return q;if(typeof t=="string")return Mt(t);if(typeof t=="object")return Ut(t);if(typeof t=="function")return J(t);throw new Error("Expected function, string, or array as test")};function Ut(t){const n=[];let e=-1;for(;++e<t.length;)n[e]=w(t[e]);return J(r);function r(...i){let o=-1;for(;++o<n.length;)if(n[o].call(this,...i))return!0;return!1}}function Mt(t){return n;function n(e){return q(e)&&e.tagName===t}}function J(t){return n;function n(e,...r){return q(e)&&Boolean(t.call(this,e,...r))}}function q(t){return Boolean(t&&typeof t=="object"&&t.type==="element"&&typeof t.tagName=="string")}var L=w(["audio","canvas","embed","iframe","img","math","object","picture","svg","video"]),k=function(t){if(t==null)return Rt;if(typeof t=="string")return _t(t);if(typeof t=="object")return Array.isArray(t)?qt(t):Pt(t);if(typeof t=="function")return I(t);throw new Error("Expected function, string, or object as test")};function qt(t){const n=[];let e=-1;for(;++e<t.length;)n[e]=k(t[e]);return I(r);function r(...i){let o=-1;for(;++o<n.length;)if(n[o].call(this,...i))return!0;return!1}}function Pt(t){return I(n);function n(e){let r;for(r in t)if(e[r]!==t[r])return!1;return!0}}function _t(t){return I(n);function n(e){return e&&e.type===t}}function I(t){return n;function n(e,...r){return Boolean(e&&typeof e=="object"&&"type"in e&&Boolean(t.call(this,e,...r)))}}function Rt(){return!0}function W(t){const n=t&&typeof t=="object"&&t.type==="text"?t.value||"":t;return typeof n=="string"&&n.replace(/[ \t\n\f\r]/g,"")===""}var Ft=["address","article","aside","blockquote","body","br","caption","center","col","colgroup","dd","dialog","dir","div","dl","dt","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","legend","li","li","listing","main","menu","nav","ol","optgroup","option","p","plaintext","pre","section","summary","table","tbody","td","td","tfoot","th","th","thead","tr","ul","wbr","xmp"],Vt=["button","input","select","textarea"],zt=["area","base","basefont","dialog","datalist","head","link","meta","noembed","noframes","param","rp","script","source","style","template","track","title"],P=k(["doctype","comment"]);function Ht(t={}){const n=Gt(t.newlines?Yt:Dt);return e=>{Y(e,{collapse:n,whitespace:"normal"})}}function Y(t,n){if("children"in t){const e=Object.assign({},n);return(t.type==="root"||K(t))&&(e.before=!0,e.after=!0),e.whitespace=Kt(t,n),Jt(t,e)}if(t.type==="text"){if(n.whitespace==="normal")return $t(t,n);n.whitespace==="nowrap"&&(t.value=n.collapse(t.value))}return{remove:!1,ignore:P(t),stripAtStart:!1}}function $t(t,n){const e=n.collapse(t.value),r={remove:!1,ignore:!1,stripAtStart:!1};let i=0,o=e.length;return n.before&&Q(e.charAt(0))&&i++,i!==o&&Q(e.charAt(o-1))&&(n.after?o--:r.stripAtStart=!0),i===o?r.remove=!0:t.value=e.slice(i,o),r}function Jt(t,n){let e=n.before;const r=n.after,i=t.children;let o=i.length,a=-1;for(;++a<o;){const l=Y(i[a],Object.assign({},n,{before:e,after:D(i,a,r)}));l.remove?(i.splice(a,1),a--,o--):l.ignore||(e=l.stripAtStart),G(i[a])&&(e=!1)}return{remove:!1,ignore:!1,stripAtStart:Boolean(e||r)}}function D(t,n,e){for(;++n<t.length;){const r=t[n];let i=Lt(r);if(i===void 0&&"children"in r&&!Wt(r)&&(i=D(r.children,-1)),typeof i=="boolean")return i}return e}function Lt(t){if(t.type==="element"){if(G(t))return!1;if(K(t))return!0}else if(t.type==="text"){if(!W(t))return!1}else if(!P(t))return!1}function G(t){return L(t)||T(t,Vt)}function K(t){return T(t,Ft)}function Wt(t){return Boolean("properties"in t&&t.properties&&t.properties.hidden)||P(t)||T(t,zt)}function Q(t){return t===" "||t===`
`}function Yt(t){const n=/\r?\n|\r/.exec(t);return n?n[0]:" "}function Dt(){return" "}function Gt(t){return n;function n(e){return String(e).replace(/[\t\n\v\f\r ]+/g,t)}}function Kt(t,n){if("tagName"in t&&t.properties)switch(t.tagName){case"listing":case"plaintext":case"script":case"style":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return t.properties.wrap?"pre-wrap":"pre";case"td":case"th":return t.properties.noWrap?"nowrap":n.whitespace;case"textarea":return"pre-wrap"}return n.whitespace}var Qt=!0,_=!1,X="skip",Xt=function(t,n,e,r){typeof n=="function"&&typeof e!="function"&&(r=e,e=n,n=null);const i=k(n),o=r?-1:1;a(t,void 0,[])();function a(l,c,s){const p=l&&typeof l=="object"?l:{};if(typeof p.type=="string"){const y=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(u,"name",{value:"node ("+(l.type+(y?"<"+y+">":""))+")"})}return u;function u(){let y=[],g,d,b;if((!n||i(l,c,s[s.length-1]||null))&&(y=Zt(e(l,s)),y[0]===_))return y;if(l.children&&y[0]!==X)for(d=(r?l.children.length:-1)+o,b=s.concat(l);d>-1&&d<l.children.length;){if(g=a(l.children[d],d,b)(),g[0]===_)return g;d=typeof g[1]=="number"?g[1]:d+o}return y}}};function Zt(t){return Array.isArray(t)?t:typeof t=="number"?[Qt,t]:[t]}var B=function(t,n,e,r){typeof n=="function"&&typeof e!="function"&&(r=e,e=n,n=null),Xt(t,n,i,r);function i(o,a){const l=a[a.length-1];return e(o,l?l.children.indexOf(o):null,l)}},te=Z("start"),ee=Z("end");function ne(t){return{start:te(t),end:ee(t)}}function Z(t){return n;function n(e){const r=e&&e.position&&e.position[t]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function re(t,n){const e=n.properties||{},r={type:"link",url:t.resolve(String(e.href||"")||null),title:e.title?String(e.title):null,children:t.all(n)};return t.patch(n,r),r}function ie(t,n){t.baseFound||(t.frozenBaseUrl=String(n.properties&&n.properties.href||"")||void 0,t.baseFound=!0)}function oe(t,n){const e={type:"blockquote",children:t.toFlow(t.all(n))};return t.patch(n,e),e}function le(t,n){const e={type:"break"};return t.patch(n,e),e}var tt=function(t,n,e){const r=k(e);if(!t||!t.type||!t.children)throw new Error("Expected parent node");if(typeof n=="number"){if(n<0||n===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(n=t.children.indexOf(n),n<0)throw new Error("Expected child node or index");for(;++n<t.children.length;)if(r(t.children[n],n,t))return t.children[n];return null},et=/\n/g,nt=/[\t ]+/g,R=w("br"),ae=w("p"),rt=w(["th","td"]),it=w("tr"),ce=w(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",fe,he]),ot=w(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function N(t,n={}){const e="children"in t?t.children:[],r=ot(t),i=ct(t,{whitespace:n.whitespace||"normal",breakBefore:!1,breakAfter:!1}),o=[];(t.type==="text"||t.type==="comment")&&o.push(...at(t,{whitespace:i,breakBefore:!0,breakAfter:!0}));let a=-1;for(;++a<e.length;)o.push(...lt(e[a],t,{whitespace:i,breakBefore:a?void 0:r,breakAfter:a<e.length-1?R(e[a+1]):r}));const l=[];let c;for(a=-1;++a<o.length;){const s=o[a];typeof s=="number"?c!==void 0&&s>c&&(c=s):s&&(c!==void 0&&c>-1&&l.push(`
`.repeat(c)||" "),c=-1,l.push(s))}return l.join("")}function lt(t,n,e){return t.type==="element"?se(t,n,e):t.type==="text"?e.whitespace==="normal"?at(t,e):pe(t):[]}function se(t,n,e){const r=ct(t,e),i=t.children||[];let o=-1,a=[];if(ce(t))return a;let l,c;for(R(t)||it(t)&&tt(n,t,it)?c=`
`:ae(t)?(l=2,c=2):ot(t)&&(l=1,c=1);++o<i.length;)a=a.concat(lt(i[o],t,{whitespace:r,breakBefore:o?void 0:l,breakAfter:o<i.length-1?R(i[o+1]):c}));return rt(t)&&tt(n,t,rt)&&a.push("	"),l&&a.unshift(l),c&&a.push(c),a}function at(t,n){const e=String(t.value),r=[],i=[];let o=0;for(;o<=e.length;){et.lastIndex=o;const c=et.exec(e),s=c&&"index"in c?c.index:e.length;r.push(ue(e.slice(o,s).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),o===0?n.breakBefore:!0,s===e.length?n.breakAfter:!0)),o=s+1}let a=-1,l;for(;++a<r.length;)r[a].charCodeAt(r[a].length-1)===8203||a<r.length-1&&r[a+1].charCodeAt(0)===8203?(i.push(r[a]),l=void 0):r[a]?(typeof l=="number"&&i.push(l),i.push(r[a]),l=0):(a===0||a===r.length-1)&&i.push(0);return i}function pe(t){return[String(t.value)]}function ue(t,n,e){const r=[];let i=0,o;for(;i<t.length;){nt.lastIndex=i;const a=nt.exec(t);o=a?a.index:t.length,!i&&!o&&a&&!n&&r.push(""),i!==o&&r.push(t.slice(i,o)),i=a?o+a[0].length:o}return i!==o&&!e&&r.push(""),r.join(" ")}function ct(t,n){if(t.type==="element"){const e=t.properties||{};switch(t.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return e.wrap?"pre-wrap":"pre";case"td":case"th":return e.noWrap?"nowrap":n.whitespace;case"textarea":return"pre-wrap"}}return n.whitespace}function fe(t){return Boolean((t.properties||{}).hidden)}function he(t){return t.tagName==="dialog"&&!(t.properties||{}).open}function de(t){const n=String(t);let e=n.length;for(;e>0;){const r=n.codePointAt(e-1);if(r!==void 0&&(r===10||r===13))e--;else break}return n.slice(0,e)}var F="language-";function C(t,n){const e=n.children;let r=-1,i,o;if(n.tagName==="pre")for(;++r<e.length;){const l=e[r];if(l.type==="element"&&l.tagName==="code"&&l.properties&&l.properties.className&&Array.isArray(l.properties.className)){i=l.properties.className;break}}if(i){for(r=-1;++r<i.length;)if(String(i[r]).slice(0,F.length)===F){o=String(i[r]).slice(F.length);break}}const a={type:"code",lang:o||null,meta:null,value:de(N(n))};return t.patch(n,a),a}function ge(t,n){const e={type:"html",value:"<!--"+n.value+"-->"};return t.patch(n,e),e}function V(t,n){const e={type:"delete",children:t.all(n)};return t.patch(n,e),e}function z(t){let n=-1;if(t.length>1){for(;++n<t.length;)if(t[n].spread)return!0}return!1}function ye(t,n){const e=[],r=[];let i=-1;for(;++i<n.children.length;){const l=n.children[i];l.type==="element"&&l.tagName==="div"?e.push(...l.children):e.push(l)}let o={titles:[],definitions:[]};for(i=-1;++i<e.length;){const l=e[i];if(l.type==="element"&&l.tagName==="dt"){const c=e[i-1];c&&c.type==="element"&&c.tagName==="dd"&&(r.push(o),o={titles:[],definitions:[]}),o.titles.push(l)}else o.definitions.push(l)}r.push(o),i=-1;const a=[];for(;++i<r.length;){const l=[...st(t,r[i].titles),...st(t,r[i].definitions)];l.length>0&&a.push({type:"listItem",spread:l.length>1,checked:null,children:l})}if(a.length>0){const l={type:"list",ordered:!1,start:null,spread:z(a),children:a};return t.patch(n,l),l}}function st(t,n){const e=t.all({type:"element",tagName:"x",children:n}),r=t.toSpecificContent(e,me);return r.length===0?[]:r.length===1?r[0].children:[{type:"list",ordered:!1,start:null,spread:z(r),children:r}]}function me(){return{type:"listItem",spread:!1,checked:null,children:[]}}function E(t,n){const e={type:"emphasis",children:t.all(n)};return t.patch(n,e),e}function S(t,n){const e={type:"heading",depth:Number(n.tagName.charAt(1))||1,children:t.all(n)};return t.patch(n,e),e}function be(t,n){const e={type:"thematicBreak"};return t.patch(n,e),e}function ve(t,n){const e=n.properties||{},r=String(e.src||""),i=String(e.title||"");if(r&&i){const o={type:"link",title:null,url:t.resolve(r),children:[{type:"text",value:i}]};return t.patch(n,o),o}}function pt(t,n){const e=n.properties||{},r={type:"image",url:t.resolve(String(e.src||"")||null),title:e.title?String(e.title):null,alt:e.alt?String(e.alt):""};return t.patch(n,r),r}function A(t,n){const e={type:"inlineCode",value:N(n)};return t.patch(n,e),e}function ut(t,n,e){const r=[],i=[],o=e||n.properties||{},a=ft(n),l=Math.min(Number.parseInt(String(o.size),10),0)||(o.multiple?4:1);let c=-1;for(;++c<a.length;){const u=a[c];u&&u.properties&&u.properties.selected&&r.push(u)}const s=r.length>0?r:a,p=s.length>l?l:s.length;for(c=-1;++c<p;){const u=s[c],y=u.properties||{},g=N(u),d=g||String(y.label||""),b=String(y.value||"")||g;i.push([b,d===b?void 0:d])}return i}function ft(t){const n=[];let e=-1;for(;++e<t.children.length;){const r=t.children[e];"children"in r&&Array.isArray(r.children)&&n.push(...ft(r)),r.type==="element"&&r.tagName==="option"&&(!r.properties||!r.properties.disabled)&&n.push(r)}return n}var we="[x]",xe="[ ]";function Se(t,n){const e=n.properties||{},r=String(e.value||e.placeholder||"");if(e.disabled||e.type==="hidden"||e.type==="file")return;if(e.type==="checkbox"||e.type==="radio"){const c={type:"text",value:e.checked?t.options.checked||we:t.options.unchecked||xe};return t.patch(n,c),c}if(e.type==="image"){const c=e.alt||r;if(c){const s={type:"image",url:t.resolve(String(e.src||"")||null),title:String(e.title||"")||null,alt:String(c)};return t.patch(n,s),s}return}let i=[];if(r)i=[[r,void 0]];else if(e.type!=="password"&&e.type!=="file"&&e.type!=="submit"&&e.type!=="reset"&&e.type!=="button"&&e.list){const c=String(e.list),s=t.elementById.get(c);s&&s.tagName==="datalist"&&(i=ut(t,s,e))}if(i.length===0)return;if(e.type==="password"&&(i[0]=["\u2022".repeat(i[0][0].length),void 0]),e.type==="url"||e.type==="email"){const c=[];let s=-1;for(;++s<i.length;){const p=t.resolve(i[s][0]),u={type:"link",title:null,url:e.type==="email"?"mailto:"+p:p,children:[{type:"text",value:i[s][1]||p}]};c.push(u),s!==i.length-1&&c.push({type:"text",value:", "})}return c}const o=[];let a=-1;for(;++a<i.length;)o.push(i[a][1]?i[a][1]+" ("+i[a][0]+")":i[a][0]);const l={type:"text",value:o.join(", ")};return t.patch(n,l),l}var ke={}.hasOwnProperty;function ht(t,n){const e=typeof n=="string"&&Ne(t)&&t.type==="element"&&t.properties&&ke.call(t.properties,n)&&t.properties[n];return e!=null&&e!==!1}function Ne(t){return Boolean(t&&typeof t=="object"&&"type"in t)}var Ae=new Set(["pingback","prefetch","stylesheet"]);function je(t){if(!T(t,"link"))return!1;if(ht(t,"itemProp"))return!0;const n=(t.properties||{}).rel||[];let e=-1;if(!Array.isArray(n)||n.length===0)return!1;for(;++e<n.length;)if(!Ae.has(String(n[e])))return!1;return!0}var Te=w(["a","abbr","area","b","bdi","bdo","br","button","cite","code","data","datalist","del","dfn","em","i","input","ins","kbd","keygen","label","map","mark","meter","noscript","output","progress","q","ruby","s","samp","script","select","small","span","strong","sub","sup","template","textarea","time","u","var","wbr"]),Ie=w("meta");function dt(t){return Boolean(Be(t)&&(t.type==="text"||Te(t)||L(t)||je(t)||Ie(t)&&ht(t,"itemProp")))}function Be(t){return t&&typeof t=="object"&&"type"in t}function O(t,n){const e=n.children[0];let r=null,i;if(e&&e.type==="element"&&e.tagName==="p"){const c=e.children[0];c&&c.type==="element"&&c.tagName==="input"&&c.properties&&(c.properties.type==="checkbox"||c.properties.type==="radio")&&(r=Boolean(c.properties.checked),i={...n,children:[{...e,children:e.children.slice(1)},...n.children.slice(1)]})}i||(i=n);const o=gt(i),a=t.toFlow(t.all(i)),l={type:"listItem",spread:o,checked:r,children:a};return t.patch(i,l),l}function gt(t){let n=-1,e=!1;for(;++n<t.children.length;){const r=t.children[n];if(r.type==="element"){if(dt(r))continue;if(r.tagName==="p"||e||gt(r))return!0;e=!0}}return!1}function H(t,n){const e=n.tagName==="ol",r=t.toSpecificContent(t.all(n),Ce);let i=null;e&&(i=n.properties&&n.properties.start?Number.parseInt(String(n.properties.start),10):1);const o={type:"list",ordered:e,start:i,spread:z(r),children:r};return t.patch(n,o),o}function Ce(){return{type:"listItem",spread:!1,checked:null,children:[]}}function Ee(t,n){const e=(n||{}).includeImageAlt;return yt(t,typeof e=="boolean"?e:!0)}function yt(t,n){return Oe(t)&&("value"in t&&t.value||n&&"alt"in t&&t.alt||"children"in t&&mt(t.children,n))||Array.isArray(t)&&mt(t,n)||""}function mt(t,n){const e=[];let r=-1;for(;++r<t.length;)e[r]=yt(t[r],n);return e.join("")}function Oe(t){return Boolean(t&&typeof t=="object")}var Ue=Ct(Ot(),1),Me=k(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","link","linkReference","strong","text"]);function U(t){let n=-1;for(;++n<t.length;){const e=t[n];if(!wt(e)||"children"in e&&U(e.children))return!0}return!1}function bt(t){return vt(t,n,e=>e);function n(e){return e.every(r=>W(r))?[]:[{type:"paragraph",children:e}]}}function qe(t){return vt(t.children,n,e);function n(r){const i=$(t);return i.children=r,[i]}function e(r){if("children"in r&&"children"in t){const i=$(t),o=$(r);return i.children=r.children,o.children.push(i),o}return{...r}}}function vt(t,n,e){const r=Pe(t),i=[];let o=[],a=-1;for(;++a<r.length;){const l=r[a];wt(l)?o.push(l):(o.length>0&&(i.push(...n(o)),o=[]),i.push(e(l)))}return o.length>0&&(i.push(...n(o)),o=[]),i}function Pe(t){const n=[];let e=-1;for(;++e<t.length;){const r=t[e];(r.type==="delete"||r.type==="link")&&U(r.children)?n.push(...qe(r)):n.push(r)}return n}function wt(t){const n=t.data&&t.data.hName;return n?dt({type:"element",tagName:n,properties:{},children:[]}):Me(t)}function $(t){return(0,Ue.default)(!0,{},{...t,children:[]})}function xt(t,n){const e=n.properties||{},r=n.tagName==="video"?String(e.poster||""):"";let i=String(e.src||""),o=-1,a=!1,l=t.all(n);if(B({type:"root",children:l},function(s){if(s.type==="link")return a=!0,_}),a||U(l))return l;for(;!i&&++o<n.children.length;){const s=n.children[o];s.type==="element"&&s.tagName==="source"&&s.properties&&(i=String(s.properties.src||""))}if(r){const s={type:"image",title:null,url:t.resolve(r),alt:Ee(l)};t.patch(n,s),l=[s]}const c={type:"link",title:e.title?String(e.title):null,url:t.resolve(i),children:l};return t.patch(n,c),c}function St(t,n){const e=t.all(n);if(e.length>0){const r={type:"paragraph",children:e};return t.patch(n,r),r}}var _e=['"'];function Re(t,n){const e=t.options.quotes||_e;t.qNesting++;const r=t.all(n);t.qNesting--;const i=e[t.qNesting%e.length],o=r[0],a=r[r.length-1],l=i.charAt(0),c=i.length>1?i.charAt(1):i;return o&&o.type==="text"?o.value=l+o.value:r.unshift({type:"text",value:l}),a&&a.type==="text"?a.value+=c:r.push({type:"text",value:c}),r}function kt(t,n){let e=t.all(n);(t.options.document||U(e))&&(e=bt(e));const r={type:"root",children:e};return t.patch(n,r),r}function Fe(t,n){const e=ut(t,n);let r=-1;const i=[];for(;++r<e.length;){const o=e[r];i.push(o[1]?o[1]+" ("+o[0]+")":o[0])}if(i.length>0){const o={type:"text",value:i.join(", ")};return t.patch(n,o),o}}function Nt(t,n){const e={type:"strong",children:t.all(n)};return t.patch(n,e),e}function At(t,n){const e={type:"tableCell",children:t.all(n)};if(t.patch(n,e),n.properties){const r=n.properties.rowSpan,i=n.properties.colSpan;if(r||i){const o=e.data||(e.data={});r&&(o.hastUtilToMdastTemporaryRowSpan=r),i&&(o.hastUtilToMdastTemporaryColSpan=i)}}return e}function Ve(t,n){const e={type:"tableRow",children:t.toSpecificContent(t.all(n),ze)};return t.patch(n,e),e}function ze(){return{type:"tableCell",children:[]}}function He(t,n){if(t.inTable){const s={type:"text",value:N(n)};return t.patch(n,s),s}t.inTable=!0;const{headless:e,align:r}=$e(n),i=t.toSpecificContent(t.all(n),jt);e&&i.unshift(jt());let o=-1;for(;++o<i.length;){const s=i[o],p=t.toSpecificContent(s.children,Je);s.children=p}let a=1;for(o=-1;++o<i.length;){const s=i[o].children;let p=-1;for(;++p<s.length;){const u=s[p];if(u.data){const y=Number.parseInt(String(u.data.hastUtilToMdastTemporaryColSpan),10)||1,g=Number.parseInt(String(u.data.hastUtilToMdastTemporaryRowSpan),10)||1;if(y>1||g>1){let d=o-1;for(;++d<o+g;){let b=p-1;for(;++b<p+y&&i[d];){const x=[];(d!==o||b!==p)&&x.push({type:"tableCell",children:[]}),i[d].children.splice(b,0,...x)}}}"hastUtilToMdastTemporaryColSpan"in u.data&&delete u.data.hastUtilToMdastTemporaryColSpan,"hastUtilToMdastTemporaryRowSpan"in u.data&&delete u.data.hastUtilToMdastTemporaryRowSpan,Object.keys(u.data).length===0&&delete u.data}}s.length>a&&(a=s.length)}for(o=-1;++o<i.length;){const s=i[o].children;let p=s.length-1;for(;++p<a;)s.push({type:"tableCell",children:[]})}let l=r.length-1;for(;++l<a;)r.push(null);t.inTable=!1;const c={type:"table",align:r,children:i};return t.patch(n,c),c}function $e(t){const n={align:[null],headless:!0};let e=0,r=0;return B(t,function(i){if(i.type==="element"){if(i.tagName==="table"&&t!==i)return X;if((i.tagName==="th"||i.tagName==="td")&&i.properties){if(!n.align[r]){const o=String(i.properties.align||"")||null;(o===null||o==="left"||o==="center"||o==="right")&&(n.align[r]=o)}n.headless&&e<2&&i.tagName==="th"&&(n.headless=!1),r++}else i.tagName==="thead"?n.headless=!1:i.tagName==="tr"&&(e++,r=0)}}),n}function jt(){return{type:"tableRow",children:[]}}function Je(){return{type:"tableCell",children:[]}}function Le(t,n){const e={type:"text",value:n.value};return t.patch(n,e),e}function Tt(t,n){const e={type:"text",value:N(n)};return t.patch(n,e),e}function We(t,n){const e={type:"text",value:"\u200B"};return t.patch(n,e),e}var Ye={root:kt,text:Le,comment:ge,doctype:f},De={applet:f,area:f,basefont:f,bgsound:f,caption:f,col:f,colgroup:f,command:f,content:f,datalist:f,dialog:f,element:f,embed:f,frame:f,frameset:f,isindex:f,keygen:f,link:f,math:f,menu:f,menuitem:f,meta:f,nextid:f,noembed:f,noframes:f,optgroup:f,option:f,param:f,script:f,shadow:f,source:f,spacer:f,style:f,svg:f,template:f,title:f,track:f,abbr:h,acronym:h,bdi:h,bdo:h,big:h,blink:h,button:h,canvas:h,cite:h,data:h,details:h,dfn:h,font:h,ins:h,label:h,map:h,marquee:h,meter:h,nobr:h,noscript:h,object:h,output:h,progress:h,rb:h,rbc:h,rp:h,rt:h,rtc:h,ruby:h,slot:h,small:h,span:h,sup:h,sub:h,tbody:h,tfoot:h,thead:h,time:h,address:m,article:m,aside:m,body:m,center:m,div:m,fieldset:m,figcaption:m,figure:m,form:m,footer:m,header:m,hgroup:m,html:m,legend:m,main:m,multicol:m,nav:m,picture:m,section:m,a:re,audio:xt,b:Nt,base:ie,blockquote:oe,br:le,code:A,dir:H,dl:ye,dt:O,dd:O,del:V,em:E,h1:S,h2:S,h3:S,h4:S,h5:S,h6:S,hr:be,i:E,iframe:ve,img:pt,image:pt,input:Se,kbd:A,li:O,listing:C,mark:E,ol:H,p:St,plaintext:C,pre:C,q:Re,s:V,samp:A,select:Fe,strike:V,strong:Nt,summary:St,table:He,td:At,textarea:Tt,th:At,tr:Ve,tt:A,u:E,ul:H,var:A,video:xt,wbr:We,xmp:C};function f(){}function m(t,n){return t.toFlow(t.all(n))}function h(t,n){return t.all(n)}var It={}.hasOwnProperty;function Ge(t){return{patch:Ke,resolve:en,all:Xe,one:Qe,toFlow:Ze,toSpecificContent:tn,options:t,elementById:new Map,nodeHandlers:{...Ye,...t.nodeHandlers},handlers:{...De,...t.handlers},baseFound:!1,inTable:!1,frozenBaseUrl:void 0,qNesting:0}}function Ke(t,n){t.position&&(n.position=ne(t))}function Qe(t,n){if(t.type==="element"){if(t.properties&&t.properties.dataMdast==="ignore")return;if(It.call(this.handlers,t.tagName))return this.handlers[t.tagName](this,t,n)}else if(It.call(this.nodeHandlers,t.type))return this.nodeHandlers[t.type](this,t,n);if("value"in t&&typeof t.value=="string"){const e={type:"text",value:t.value};return this.patch(t,e),e}if("children"in t)return this.all(t)}function Xe(t){const n=t.children||[],e=[];let r=-1;for(;++r<n.length;){const a=n[r],l=this.one(a,t);Array.isArray(l)?e.push(...l):l&&e.push(l)}let i=0,o=e.length;for(;i<o&&e[i].type==="break";)i++;for(;o>i&&e[o-1].type==="break";)o--;return i===0&&o===e.length?e:e.slice(i,o)}function Ze(t){return bt(t)}function tn(t,n){const e=n(),r=[];let i=[],o=-1;for(;++o<t.length;){const l=t[o];a(l)?(i.length>0&&(l.children.unshift(...i),i=[]),r.push(l)):i.push(l)}if(i.length>0){let l=r[r.length-1];l||(l=n(),r.push(l)),l.children.push(...i),i=[]}return r;function a(l){return l.type===e.type}}function en(t){const n=this.frozenBaseUrl;return t==null?"":n?String(new URL(t,n)):t}function nn(t,n){const e=JSON.parse(JSON.stringify(t)),r=n||{},i=Ge(r);let o;Ht({newlines:r.newlines===!0})(e),B(e,function(l){if(l&&l.type==="element"&&l.properties){const c=String(l.properties.id||"")||void 0;c&&!i.elementById.has(c)&&i.elementById.set(c,l)}});const a=i.one(e,void 0);return a?Array.isArray(a)?o={type:"root",children:a}:o=a:o={type:"root",children:[]},B(o,function(l,c,s){if(l.type==="text"&&c!==null&&s){const p=s.children[c-1];if(p&&p.type===l.type)return p.value+=l.value,s.children.splice(c,1),p.position&&l.position&&(p.position.end=l.position.end),c-1;if(l.value=l.value.replace(/[\t ]*(\r?\n|\r)[\t ]*/,"$1"),s&&(s.type==="heading"||s.type==="paragraph"||s.type==="root")&&(c||(l.value=l.value.replace(/^[\t ]+/,"")),c===s.children.length-1&&(l.value=l.value.replace(/[\t ]+$/,""))),!l.value)return s.children.splice(c,1),c}}),o}export{nn as hastUtilToMdast,O as hastUtilToMdastListItem,kt as hastUtilToMdastRoot,Tt as hastUtilToMdastTextarea};
